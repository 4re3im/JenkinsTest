<?xml version="1.0"?>
<schema version="0.3">
	<table name="CupContentGoAccessCode">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="titleID" type="I" size="10"/>
		<field name="isbn13" type="C" size="13"/>
		<field name="accessCode" type="C" size="64">
			<UNIQUE/>
		</field>
		<field name="orderID" type="I" size="10"/>
		<field name="invoiceID" type="C" size="10"/>
		<field name="productID" type="I" size="10"/>
		<field name="productName" type="C" size="256"/>
		<field name="email" type="C" size="256"/>
		<field name="firstName" type="C" size="256"/>
		<field name="lastName" type="C" size="256"/>
		<field name="redeemAt" type="T"/>
		<field name="createdAt" type="T"/>
	</table>
	
	<table name="CupContentGoAccessCodeEmailTemplate">
		<field name="titleID" type="I" size="10"/>
		<field name="isbn13" type="C" size="13"/>
		<field name="title" type="C" size="256"/>
		<field name="content_html" type="X"/>
		<field name="content_text" type="X"/>
		<field name="createdAt" type="T"/>
		<field name="modifiedAt" type="T"/>
	</table>
	
	<table name="CupContentTitle">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="isbn13" type="C" size="13"/>
		<field name="isbn10" type="C" size="10"/>
		<field name="name" type="C" size="128"/>
		<field name="customName" type="C" size="128"/>
		<field name="displayName" type="C" size="128"/>
		<field name="subtitle" type="C" size="128"/>
		<field name="customSubtitle" type="C" size="128"/>
		<field name="displaySubtitle" type="C" size="128"/>
		<field name="edition" type="C" size="128"/>
		<field name="prettyUrl" type="C" size="256"/>
		<field name="shortDescription" type="X"/>
		<field name="longDescription" type="X"/>
		<field name="content" type="X"/>
		<field name="feature" type="X"/>
		<field name="yearLevels" type="C" size="256"/>
		<field name="publishDate" type="T"/>
		<field name="availability" type="C" size="64"/>
		<field name="goUrl" type="C" size="256"/>
		<field name="previewUrl" type="C" size="256"/>
		<field name="type" type="C" size="64"/>		<!-- part of series, stand alone, study guide -->
		<field name="series" type="C" size="128"/>
		<field name="descriptionOption" type="C" size="128"/>
		<field name="divisions" type="C" size="128"/>
		<field name="regions" type="C" size="256"/>
		<field name="tagline" type="C" size="512"/>
		<field name="reviews" type="X"/>
		<field name="aus_circa_price" type="N" size="14.4">
			<DEFAULT value="0.0000"/>
		</field>
		<field name="nz_circa_price" type="N" size="14.4">
			<DEFAULT value="0.0000"/>
		</field>
		<field name="auProductID" type="I" size="10"/>
		<field name="nzProductID" type="I" size="10"/>
		<field name="isEnabled" type="I" size="1"/>
		<field name="hasInspectionCopy" type="I" size="1"/>
		<field name="hasAccessCode" type="I" size="1"/>
		<field name="hasDownloadableFile" type="I" size="1"/>
		<field name="is_free_shipping" type="I" size="1"/>
		<field name="search_priority" type="I" size="10"/>
		<field name="new_product_flag" type="I" size="1"/>
		
		<field name="cart_message" type="C" size="256"/>
		<field name="cart_popup_content" type="X"/>
		
		<field name="createdAt" type="T"/>
		<field name="modifiedAt" type="T"/>
		<!--
		Nick Ingarsia, 29/5/14
		Added indexes to improve search/subject listing speed
		-->
		<index name="regionx">
			<col>regions</col>
		</index>
		<index name="displayNamex">
			<col>displayName</col>
		</index>
		<index name="seriesx">
			<col>series</col>
		</index>
		<index name="yearLevelsx">
			<col>yearLevels</col>
		</index>
		<index name="divisionsx">
			<col>divisions</col>
		</index>

	</table>
	<table name="CupContentTitleFormats">
		<field name="titleID" type="I" size="10"/>
		<field name="format" type="C" size="256"/>
		<!--
		Nick Ingarsia, 29/5/14
		Added indexes to improve search/subject listing speed
		-->
		<index name="titleIDx">
			<col>titleID</col>
		</index>		
		<index name="formatx">
			<col>format</col>
		</index>		
	</table>
	<table name="CupContentTitleSubjects">
		<field name="titleID" type="I" size="10"/>
		<field name="subject" type="C" size="256"/>
		<!--
		Nick Ingarsia, 29/5/14
		Added indexes to improve search/subject listing speed
		-->
		<index name="titleIDx">
			<col>titleID</col>
		</index>
	</table>
	<table name="CupContentTitleAuthors">
		<field name="titleID" type="I" size="10"/>
		<field name="author" type="C" size="256"/>
		<!--
		Nick Ingarsia, 29/5/14
		Added indexes to improve search/subject listing speed
		-->
		<index name="titleIDx">
			<col>titleID</col>
		</index>		
	</table>
	<table name="CupContentTitleRelatedTitle">
		<field name="titleID" type="I" size="10"/>
		<field name="related_titleID" type="I" size="10"/>
		<field name="isbn13" type="C" size="25"/>
	</table>
	<table name="CupContentTitleSupportingTitle">
		<field name="titleID" type="I" size="10"/>
		<field name="supporting_titleID" type="I" size="10"/>
		<field name="isbn13" type="C" size="25"/>
	</table>
	
	<table name="CupContentTitleSamplePages">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="titleID" type="I" size="10"/>
		<field name="filename" type="C" size="256"/>
		<field name="filemeta" type="C" size="256"/>
		<field name="filesize" type="I" size="16"/>
		<field name="description" type="C" size="256"/>
		<field name="is_page_proof" type="I" size="1"/>
		<field name="modifiedAt" type="T"/>
		<field name="createdAt" type="T"/>
	</table>
	
	<table name="CupContentTitleDownloadableFile">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="titleID" type="I" size="10"/>
		<field name="filename" type="C" size="256"/>
		<field name="filemeta" type="C" size="256"/>
		<field name="filesize" type="I" size="16"/>
		<field name="description" type="C" size="256"/>
		<field name="expiry_type" type="C" size="64"/>
		<field name="modifiedAt" type="T"/>
		<field name="createdAt" type="T"/>
	</table>

	<!--
	<table name="CupContentTitleDownloadableFileOrderRecord">
		<field name="id" type="I" size="11">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="orderID" type="I" size="12"/>
		<field name="invoiceID" type="C" size="12"/>
		<field name="fID" type="I" size="10"/>
		<field name="hashKey" type="C" size="24"/>
		<field name="download_count" type="I" size="10"/>
		<field name="expiredAt"/>
		<field name="modifiedAt" type="T"/>
		<field name="createdAt" type="T"/>
	</table>
	-->
	
	
	<table name="CupContentSeries">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		
		<field name="seriesID" type="I" size="10">
			<UNIQUE/>
			<UNSIGNED/>
		</field>
		<!--
		<field name="seriesImageFID" type="I" size="10">
			<NOTNULL/>
			<DEFAULT value="0"/>
			<UNSIGNED/>
		</field>
		-->
		<field name="name" type="C" size="128"/>
		<field name="prettyUrl" type="C" size="128"/>
		
		<field name="shortDescription" type="X"/>
		<field name="longDescription" type="X"/>
		
		<field name="divisions" type="C" size="128"/>
		<field name="regions" type="C" size="256"/>
		
		<field name="yearLevels" type="C" size="256"/>
		
		<!--
		<field name="subjects" type="C" size="256"/>
		<field name="formats" type="C" size="256"/>
		-->
		
		<field name="compGoUrl" type="C" size="256"/>
		<field name="compHotUrl" type="C" size="256"/>
		<field name="compSiteUrl" type="C" size="256"/>
		
		<field name="partnerSiteName" type="C" size="256"/>
		<field name="partnerSiteUrl" type="C" size="256"/>
		
		<field name="tagline" type="C" size="512"/>
		
		<field name="reviews" type="X"/>
		
		<field name="isEnabled" type="I" size="1"/>
		
		<field name="search_priority" type="I" size="10"/>
		
		<field name="createdAt" type="T"/>
		<field name="modifiedAt" type="T"/>

		<!--
		Nick Ingarsia, 29/5/14
		Added indexes to improve search/subject listing speed
		-->
		<index name="regionx">
			<col>regions</col>
		</index>
		<index name="namex">
			<col>name</col>
		</index>
		<index name="yearLevelsx">
			<col>yearLevels</col>
		</index>
		<index name="divisionsx">
			<col>divisions</col>
		</index>

	</table>
	
	<table name="CupContentSeriesFormats">
		<field name="seriesID" type="I" size="10"/>
		<field name="format" type="C" size="256"/>
		<!--
		Nick Ingarsia, 29/5/14
		Added indexes to improve search/subject listing speed
		-->
		<index name="seriesIDx">
			<col>seriesID</col>
		</index>
		<index name="formatx">
			<col>format</col>
		</index>		
	</table>
	
	<table name="CupContentSeriesSubjects">
		<field name="seriesID" type="I" size="10"/>
		<field name="subject" type="C" size="256"/>
		<!--
		Nick Ingarsia, 29/5/14
		Added indexes to improve search/subject listing speed
		-->
		<index name="seriesIDx">
			<col>seriesID</col>
		</index>		
		<index name="subjectx">
			<col>subject</col>
		</index>		
	</table>
	
	<!--
	<table name="CupContentSeriesYearLevels">
		<field name="seriesID" type="I" size="10"/>
		<field name="subject" type="C" size="256"/>
	</table>
	-->
	
	<table name="CupContentSubject">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="name" type="C" size="256"/>
		<field name="prettyUrl" type="C" size="128"/>
		<field name="isPrimary" type="I" size="1"/>
		<field name="isSecondary" type="I" size="1"/>
		<field name="description" type="X"/>
		<field name="region" type="C" size="24"/>
		<field name="createdAt" type="T"/>
		<field name="modifiedAt" type="T"/>
	</table>
	
	<table name="CupContentAuthor">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="name" type="C" size="256"/>
		<field name="prettyUrl" type="C" size="256"/>
		<field name="biography" type="X"/>
		<field name="createdAt" type="T"/>
		<field name="modifiedAt" type="T"/>
	</table>
	
	<table name="CupContentFormat">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="name" type="C" size="256"/>
		<field name="prettyUrl" type="C" size="256"/>
		<field name="shortDescription" type="X"/>
		<field name="longDescription" type="X"/>
		<field name="isDigital" type="I" size="1"/>
		<field name="createdAt" type="T"/>
		<field name="modifiedAt" type="T"/>
	</table>
	
	<table name="CupContentInspectionCopyOrder">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="school_order_number" type="C" size="64"/>
		<field name="email"	type="C" size="256"/>
		<field name="title"	type="C" size="24"/>
		<field name="first_name" type="C" size="256"/>
		<field name="last_name" type="C" size="256"/>
		<field name="position" type="C" size="64"/>
		<field name="school_campus" type="C" size="64"/>
		<field name="school_postcode" type="C" size="24"/>
		<field name="phone" type="C" size="64"/>
		<field name="add_to_mailling_list" type="I" size="1"/>
		<field name="add_to_post_list" type="I" size="1"/>
		<field name="shipping_address_line_1" type="C" size="256"/>
		<field name="shipping_address_line_2" type="C" size="256"/>
		<field name="shipping_address_city" type="C" size="64"/>
		<field name="shipping_address_state" type="C" size="64"/>
		<field name="shipping_address_postcode" type="C" size="24"/>
		<field name="shipping_address_country" type="C" size="64"/>
		<field name="status" type="C" size="32"/>	<!-- pending / sync -->
		<field name="createdAt" type="T"/>
		<field name="modifiedAt" type="T"/>
		<field name="syncData" type="X"/>
		<field name="syncAt" type="T"/>
	</table>
	<table name="CupContentInspectionCopyOrderItem">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="orderID" type="I" size="10"/>
		<field name="titleID" type="I" size="10"/>
		<field name="isbn" type="C" size="32"/>
		<field name="product_name" type="C" size="256"/>
	</table>
	
	<table name="CupContentOrder">
		<field name="id" type="I" size="10">
			<KEY/>
			<AUTOINCREMENT/>
			<UNSIGNED/>
		</field>
		<field name="orderID" type="I" size="12"/>
		<field name="invoiceID" type="C" size="12"/>
		<field name="orderObject" type="X"/>
		<field name="response" type="X"/>
		<field name="response_nz" type="X"/>
		<field name="response_digital" type="X"/>
		<field name="status" type="C" size="64"/>
		<field name="vistaOrderID" type="C" size="32"/>
		<field name="vistaOrderID_nz" type="C" size="32"/>
		<field name="vistaOrderID_digital" type="C" size="32"/>
		<field name="modifiedAt" type="T"/>
		<field name="createdAt" type="T"/>
	</table>
	
	<table name="CupContentVistaOrderRecord">
		<field name="orderID" type="I" size="12"/>
		<field name="data" type="X"/>
	</table>
</schema>
